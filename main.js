(()=>{"use strict";var e={208(e,t,n){n.d(t,{A:()=>c});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,":root {\n  --bg: #0f0f12;\n  --surface: #18181c;\n  --surface-hover: #222228;\n  --border: #2a2a30;\n  --text: #e4e4e7;\n  --text-muted: #71717a;\n  --accent: #a78bfa;\n  --accent-hover: #c4b5fd;\n  --danger: #f87171;\n  --danger-hover: #fca5a5;\n  --priority-low: #22c55e;\n  --priority-medium: #eab308;\n  --priority-high: #ef4444;\n  --radius: 8px;\n  --shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n  --sidebar-width: 240px;\n}\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\nbody {\n  margin: 0;\n  min-height: 100vh;\n  font-family: 'DM Sans', system-ui, sans-serif;\n  background: var(--bg);\n  color: var(--text);\n  line-height: 1.5;\n}\n\n.app {\n  display: flex;\n  min-height: 100vh;\n}\n\n/* Sidebar */\n.sidebar {\n  width: var(--sidebar-width);\n  min-width: var(--sidebar-width);\n  background: var(--surface);\n  border-right: 1px solid var(--border);\n  padding: 1.25rem 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.sidebar-title {\n  margin: 0;\n  padding: 0 1.25rem;\n  font-size: 1.5rem;\n  font-weight: 700;\n  letter-spacing: -0.02em;\n}\n\n.btn-new-project {\n  margin: 0 1rem;\n  padding: 0.5rem 0.75rem;\n  background: var(--accent);\n  color: var(--bg);\n  border: none;\n  border-radius: var(--radius);\n  font-size: 0.875rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background 0.15s;\n}\n\n.btn-new-project:hover {\n  background: var(--accent-hover);\n}\n\n.projects-list {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  padding: 0 0.5rem;\n}\n\n.project-item {\n  display: block;\n  width: 100%;\n  padding: 0.6rem 1rem;\n  background: transparent;\n  border: none;\n  border-radius: var(--radius);\n  color: var(--text);\n  font-size: 0.9375rem;\n  text-align: left;\n  cursor: pointer;\n  transition: background 0.15s;\n}\n\n.project-item:hover {\n  background: var(--surface-hover);\n}\n\n.project-item.active {\n  background: var(--surface-hover);\n  color: var(--accent);\n  font-weight: 500;\n}\n\n/* Main */\n.main {\n  flex: 1;\n  padding: 1.5rem 2rem;\n  max-width: 640px;\n  margin: 0 auto;\n  width: 100%;\n}\n\n.main-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 1.25rem;\n  flex-wrap: wrap;\n  gap: 0.75rem;\n}\n\n.current-project-name {\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 600;\n}\n\n.btn-add-todo {\n  padding: 0.5rem 1rem;\n  background: var(--accent);\n  color: var(--bg);\n  border: none;\n  border-radius: var(--radius);\n  font-size: 0.875rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background 0.15s;\n}\n\n.btn-add-todo:hover {\n  background: var(--accent-hover);\n}\n\n.todo-list {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.todo-item {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: var(--radius);\n  border-left: 3px solid var(--border);\n  transition: border-color 0.15s, background 0.15s;\n}\n\n.todo-item.priority-low {\n  border-left-color: var(--priority-low);\n}\n\n.todo-item.priority-medium {\n  border-left-color: var(--priority-medium);\n}\n\n.todo-item.priority-high {\n  border-left-color: var(--priority-high);\n}\n\n.todo-item.completed .todo-title {\n  text-decoration: line-through;\n  color: var(--text-muted);\n}\n\n.todo-item:hover {\n  background: var(--surface-hover);\n}\n\n.todo-row {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem 1rem;\n  cursor: pointer;\n  margin: 0;\n}\n\n.todo-checkbox {\n  width: 1.125rem;\n  height: 1.125rem;\n  accent-color: var(--accent);\n  cursor: pointer;\n  flex-shrink: 0;\n}\n\n.todo-title {\n  flex: 1;\n  font-size: 0.9375rem;\n  min-width: 0;\n}\n\n.todo-due {\n  font-size: 0.8125rem;\n  color: var(--text-muted);\n  flex-shrink: 0;\n}\n\n.btn-expand-todo {\n  padding: 0.25rem 0.5rem;\n  background: transparent;\n  border: none;\n  color: var(--text-muted);\n  font-size: 1.25rem;\n  line-height: 1;\n  cursor: pointer;\n  border-radius: 4px;\n  flex-shrink: 0;\n}\n\n.btn-expand-todo:hover {\n  color: var(--text);\n  background: var(--border);\n}\n\n.empty-state {\n  padding: 2rem;\n  text-align: center;\n  color: var(--text-muted);\n  font-size: 0.9375rem;\n}\n\n/* Buttons */\n.btn {\n  font-family: inherit;\n}\n\n.btn-danger {\n  background: transparent;\n  color: var(--danger);\n  border: 1px solid var(--danger);\n}\n\n.btn-danger:hover {\n  background: var(--danger);\n  color: var(--bg);\n}\n\n/* Todo detail overlay */\n.todo-detail-overlay {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 100;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 0.2s, visibility 0.2s;\n  padding: 1rem;\n}\n\n.todo-detail-overlay.open {\n  opacity: 1;\n  visibility: visible;\n}\n\n.todo-detail-panel {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 12px;\n  width: 100%;\n  max-width: 480px;\n  max-height: 90vh;\n  overflow: auto;\n  box-shadow: var(--shadow);\n}\n\n.todo-detail-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1.25rem;\n  border-bottom: 1px solid var(--border);\n}\n\n.todo-detail-header h3 {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n}\n\n.btn-close-detail {\n  padding: 0.25rem 0.5rem;\n  background: transparent;\n  border: none;\n  color: var(--text-muted);\n  font-size: 1.5rem;\n  line-height: 1;\n  cursor: pointer;\n  border-radius: 4px;\n}\n\n.btn-close-detail:hover {\n  color: var(--text);\n  background: var(--surface-hover);\n}\n\n.todo-detail-form {\n  padding: 1.25rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.todo-detail-form label {\n  display: flex;\n  flex-direction: column;\n  gap: 0.35rem;\n  font-size: 0.875rem;\n  color: var(--text-muted);\n}\n\n.todo-detail-form label span {\n  font-weight: 500;\n  color: var(--text);\n}\n\n.todo-detail-form input[type='text'],\n.todo-detail-form input[type='date'],\n.todo-detail-form select,\n.todo-detail-form textarea {\n  padding: 0.5rem 0.75rem;\n  background: var(--bg);\n  border: 1px solid var(--border);\n  border-radius: var(--radius);\n  color: var(--text);\n  font-size: 0.9375rem;\n  font-family: inherit;\n}\n\n.todo-detail-form textarea {\n  resize: vertical;\n  min-height: 60px;\n}\n\n.checklist-fieldset {\n  border: 1px solid var(--border);\n  border-radius: var(--radius);\n  padding: 0.75rem 1rem;\n  margin: 0;\n}\n\n.checklist-fieldset legend {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--text);\n  padding: 0 0.25rem;\n}\n\n.checklist-list {\n  list-style: none;\n  margin: 0 0 0.5rem 0;\n  padding: 0;\n}\n\n.checklist-item {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.35rem 0;\n}\n\n.checklist-item label {\n  flex: 1;\n  flex-direction: row;\n  align-items: center;\n  gap: 0.5rem;\n  margin: 0;\n}\n\n.checklist-item input[type='checkbox'] {\n  accent-color: var(--accent);\n}\n\n.checklist-item span {\n  font-weight: 400;\n}\n\n.btn-remove-checklist-item {\n  padding: 0.2rem 0.4rem;\n  background: transparent;\n  border: none;\n  color: var(--text-muted);\n  font-size: 1.1rem;\n  cursor: pointer;\n  border-radius: 4px;\n}\n\n.btn-remove-checklist-item:hover {\n  color: var(--danger);\n  background: rgba(248, 113, 113, 0.15);\n}\n\n.checklist-add {\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 0.25rem;\n}\n\n.checklist-input {\n  flex: 1;\n  padding: 0.4rem 0.6rem;\n  background: var(--bg);\n  border: 1px solid var(--border);\n  border-radius: var(--radius);\n  color: var(--text);\n  font-size: 0.875rem;\n  font-family: inherit;\n}\n\n.btn-add-checklist-item {\n  padding: 0.4rem 0.75rem;\n  background: var(--border);\n  color: var(--text);\n  border: none;\n  border-radius: var(--radius);\n  font-size: 0.8125rem;\n  cursor: pointer;\n}\n\n.btn-add-checklist-item:hover {\n  background: var(--accent);\n  color: var(--bg);\n}\n\n.todo-detail-actions {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 0.75rem;\n  margin-top: 0.5rem;\n  padding-top: 1rem;\n  border-top: 1px solid var(--border);\n}\n\n.btn-save-todo {\n  padding: 0.5rem 1rem;\n  background: var(--accent);\n  color: var(--bg);\n  border: none;\n  border-radius: var(--radius);\n  font-size: 0.875rem;\n  font-weight: 600;\n  cursor: pointer;\n}\n\n.btn-save-todo:hover {\n  background: var(--accent-hover);\n}\n\n/* Modals (add todo, new project) */\n.modal-overlay {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 100;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 0.2s, visibility 0.2s;\n  padding: 1rem;\n}\n\n.modal-overlay.open {\n  opacity: 1;\n  visibility: visible;\n}\n\n.modal {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 12px;\n  width: 100%;\n  max-width: 400px;\n  padding: 1.5rem;\n  box-shadow: var(--shadow);\n}\n\n.modal h3 {\n  margin: 0 0 1rem 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n}\n\n.add-todo-form .modal-actions,\n.new-project-form .modal-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n  margin-top: 1rem;\n}\n\n.add-todo-form label,\n.new-project-form label {\n  display: flex;\n  flex-direction: column;\n  gap: 0.35rem;\n  margin-bottom: 0.75rem;\n  font-size: 0.875rem;\n  color: var(--text-muted);\n}\n\n.add-todo-form label span,\n.new-project-form label span {\n  font-weight: 500;\n  color: var(--text);\n}\n\n.add-todo-form input,\n.add-todo-form select,\n.new-project-form input {\n  padding: 0.5rem 0.75rem;\n  background: var(--bg);\n  border: 1px solid var(--border);\n  border-radius: var(--radius);\n  color: var(--text);\n  font-size: 0.9375rem;\n  font-family: inherit;\n}\n\n.btn-cancel {\n  padding: 0.5rem 1rem;\n  background: transparent;\n  color: var(--text-muted);\n  border: 1px solid var(--border);\n  border-radius: var(--radius);\n  font-size: 0.875rem;\n  cursor: pointer;\n}\n\n.btn-cancel:hover {\n  background: var(--surface-hover);\n  color: var(--text);\n}\n\n.btn-primary {\n  padding: 0.5rem 1rem;\n  background: var(--accent);\n  color: var(--bg);\n  border: none;\n  border-radius: var(--radius);\n  font-size: 0.875rem;\n  font-weight: 600;\n  cursor: pointer;\n}\n\n.btn-primary:hover {\n  background: var(--accent-hover);\n}\n",""]);const c=i},314(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var d=this[c][0];null!=d&&(i[d]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},601(e){e.exports=function(e){return e[1]}},72(e){var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],c=0;c<e.length;c++){var d=e[c],s=r.base?d[0]+r.base:d[0],u=a[s]||0,l="".concat(s," ").concat(u);a[s]=u+1;var m=n(l),f={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==m)t[m].references++,t[m].updater(f);else{var h=o(f,r);r.byIndex=c,t.splice(c,0,{identifier:l,updater:h,references:1})}i.push(l)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=n(a[i]);t[c].references--}for(var d=r(e,o),s=0;s<a.length;s++){var u=n(a[s]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=d}}},659(e){var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56(e,t,n){e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825(e){e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var r=n(72),o=n.n(r),a=n(825),i=n.n(a),c=n(659),d=n.n(c),s=n(56),u=n.n(s),l=n(540),m=n.n(l),f=n(113),h=n.n(f),g=n(208),p={};function b(){return`${Date.now()}-${Math.random().toString(36).slice(2,9)}`}function v(e="New Project"){return{id:`${Date.now()}-${Math.random().toString(36).slice(2,9)}`,name:e,todos:[]}}p.styleTagTransform=h(),p.setAttributes=u(),p.insert=d().bind(null,"head"),p.domAPI=i(),p.insertStyleElement=m(),o()(g.A,p),g.A&&g.A.locals&&g.A.locals;let y=[],w=null;function x(){return y}function k(){return w}function M(e){return y.find(t=>t.id===e)??null}const S="todoApp";function D(){!function(e,t){try{localStorage.setItem(S,JSON.stringify({projects:e,currentProjectId:t}))}catch(e){console.warn("Could not save to localStorage",e)}}(x(),k())}function T(e,t,n){const r=M(e);if(!r)return null;const o=r.todos.find(e=>e.id===t);return o?(Object.assign(o,n),void 0!==n.checklist&&(o.checklist=n.checklist),D(),o):null}function j(e){!function(e){M(e)&&(w=e)}(e),D()}Math.pow(10,8);const P=6048e5,N=36e5,q=Symbol.for("constructDateFrom");function E(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&q in e?e[q](t):e instanceof Date?new e.constructor(t):new Date(t)}function C(e,t){return E(t||e,e)}const L={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},z=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,W=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,A=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Y(e){return e?parseInt(e):1}function O(e){return e&&parseFloat(e.replace(",","."))||0}const F=[31,null,31,30,31,30,31,31,30,31,30,31];function H(e){return e%400==0||e%4==0&&e%100!=0}function $(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+C(e)));var t}const I={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function B(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const U={date:B({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:B({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:B({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Q={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function G(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,o=n?.width?String(n.width):t;r=e.formattingValues[o]||e.formattingValues[t]}else{const t=e.defaultWidth,o=n?.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const X={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:G({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:G({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:G({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:G({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:G({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function J(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const i=a[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}(c,e=>e.test(i)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}(c,e=>e.test(i));let s;return s=e.valueCallback?e.valueCallback(d):d,s=n.valueCallback?n.valueCallback(s):s,{value:s,rest:t.slice(i.length)}}}const R={ordinalNumber:(Z={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(Z.matchPattern);if(!n)return null;const r=n[0],o=e.match(Z.parsePattern);if(!o)return null;let a=Z.valueCallback?Z.valueCallback(o[0]):o[0];return a=t.valueCallback?t.valueCallback(a):a,{value:a,rest:e.slice(r.length)}}),era:J({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:J({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:J({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:J({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:J({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var Z;const V={code:"en-US",formatDistance:(e,t,n)=>{let r;const o=I[e];return r="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:U,formatRelative:(e,t,n,r)=>Q[e],localize:X,match:R,options:{weekStartsOn:0,firstWeekContainsDate:1}};let K={};function _(){return K}function ee(e){const t=C(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function te(e,t){const n=C(e,t?.in);return n.setHours(0,0,0,0),n}function ne(e,t){const n=C(e,t?.in);return function(e,t,n){const[r,o]=function(e,...t){const n=E.bind(null,e||t.find(e=>"object"==typeof e));return t.map(n)}(n?.in,e,t),a=te(r),i=te(o),c=+a-ee(a),d=+i-ee(i);return Math.round((c-d)/864e5)}(n,function(e,t){const n=C(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}(n))+1}function re(e,t){const n=_(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=C(e,t?.in),a=o.getDay(),i=(a<r?7:0)+a-r;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function oe(e,t){return re(e,{...t,weekStartsOn:1})}function ae(e,t){const n=C(e,t?.in),r=n.getFullYear(),o=E(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const a=oe(o),i=E(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const c=oe(i);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function ie(e,t){const n=C(e,t?.in),r=+oe(n)-+function(e,t){const n=ae(e,t),r=E(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),oe(r)}(n);return Math.round(r/P)+1}function ce(e,t){const n=C(e,t?.in),r=n.getFullYear(),o=_(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,i=E(t?.in||e,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const c=re(i,t),d=E(t?.in||e,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const s=re(d,t);return+n>=+c?r+1:+n>=+s?r:r-1}function de(e,t){const n=C(e,t?.in),r=+re(n,t)-+function(e,t){const n=_(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=ce(e,t),a=E(t?.in||e,0);return a.setFullYear(o,0,r),a.setHours(0,0,0,0),re(a,t)}(n,t);return Math.round(r/P)+1}function se(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const ue={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return se("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):se(n+1,2)},d:(e,t)=>se(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>se(e.getHours()%12||12,t.length),H:(e,t)=>se(e.getHours(),t.length),m:(e,t)=>se(e.getMinutes(),t.length),s:(e,t)=>se(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return se(Math.trunc(r*Math.pow(10,n-3)),t.length)}},le={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return ue.y(e,t)},Y:function(e,t,n,r){const o=ce(e,r),a=o>0?o:1-o;return"YY"===t?se(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):se(a,t.length)},R:function(e,t){return se(ae(e),t.length)},u:function(e,t){return se(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return se(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return se(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ue.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return se(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=de(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):se(o,t.length)},I:function(e,t,n){const r=ie(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):se(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):ue.d(e,t)},D:function(e,t,n){const r=ne(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):se(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return se(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return se(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return se(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(o=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(o=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return ue.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):ue.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):se(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):se(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ue.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ue.s(e,t)},S:function(e,t){return ue.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return fe(r);case"XXXX":case"XX":return he(r);default:return he(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return fe(r);case"xxxx":case"xx":return he(r);default:return he(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+me(r,":");default:return"GMT"+he(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+me(r,":");default:return"GMT"+he(r,":")}},t:function(e,t,n){return se(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return se(+e,t.length)}};function me(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),a=r%60;return 0===a?n+String(o):n+String(o)+t+se(a,2)}function fe(e,t){return e%60==0?(e>0?"-":"+")+se(Math.abs(e)/60,2):he(e,t)}function he(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+se(Math.trunc(r/60),2)+t+se(r%60,2)}const ge=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},pe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},be={p:pe,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return ge(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",ge(r,t)).replace("{{time}}",pe(o,t))}},ve=/^D+$/,ye=/^Y+$/,we=["D","DD","YY","YYYY"],xe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Me=/^'([^]*?)'?$/,Se=/''/g,De=/[a-zA-Z]/;function Te(e){const t=e.match(Me);return t?t[1].replace(Se,"'"):e}const je={low:"priority-low",medium:"priority-medium",high:"priority-high"};function Pe(){const e=document.querySelector(".projects-list");if(!e)return;const t=x(),n=k();e.innerHTML=t.map(e=>`\n    <button type="button" class="project-item ${e.id===n?"active":""}" data-project-id="${e.id}">\n      ${ze(e.name)}\n    </button>\n  `).join(""),e.querySelectorAll(".project-item").forEach(e=>{e.addEventListener("click",()=>{j(e.dataset.projectId),Pe(),Ne()})})}function Ne(){const e=document.querySelector(".main .todo-list"),t=document.querySelector(".current-project-name");if(!e)return;const n=w?M(w):null;if(!n)return t.textContent="No project",void(e.innerHTML='<li class="empty-state">Select or create a project.</li>');t.textContent=n.name;const r=function(e){const t=M(e);return t?t.todos:[]}(n.id);0!==r.length?(e.innerHTML=r.map(e=>`\n    <li class="todo-item ${e.completed?"completed":""} ${je[e.priority]||""}" data-todo-id="${e.id}">\n      <label class="todo-row">\n        <input type="checkbox" class="todo-checkbox" ${e.completed?"checked":""} aria-label="Toggle complete">\n        <span class="todo-title">${ze(e.title)}</span>\n        <span class="todo-due">${function(e){if(!e)return"No date";const t="string"==typeof e&&e.includes("T")?function(e,t){const n=()=>E(t?.in,NaN),r=t?.additionalDigits??2,o=function(e){const t={},n=e.split(L.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],L.timeZoneDelimiter.test(t.date)&&(t.date=e.split(L.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const e=L.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let a;if(o.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?o:100*a,restDateString:e.slice((r[1]||r[2]).length)}}(o.date,r);a=function(e,t){if(null===t)return new Date(NaN);const n=e.match(z);if(!n)return new Date(NaN);const r=!!n[4],o=Y(n[1]),a=Y(n[2])-1,i=Y(n[3]),c=Y(n[4]),d=Y(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,c,d)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const o=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}(t,c,d):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(F[t]||(H(e)?29:28))}(t,a,i)&&function(e,t){return t>=1&&t<=(H(e)?366:365)}(t,o)?(e.setUTCFullYear(t,a,Math.max(o,i)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!a||isNaN(+a))return n();const i=+a;let c,d=0;if(o.time&&(d=function(e){const t=e.match(W);if(!t)return NaN;const n=O(t[1]),r=O(t[2]),o=O(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,o)?n*N+6e4*r+1e3*o:NaN}(o.time),isNaN(d)))return n();if(!o.timezone){const e=new Date(i+d),n=C(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return c=function(e){if("Z"===e)return 0;const t=e.match(A);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,o)?n*(r*N+6e4*o):NaN}(o.timezone),isNaN(c)?n():C(i+d+c,t?.in)}(e):new Date(e);return $(t)?function(e,t,n){const r=_(),o=n?.locale??r.locale??V,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=C(e,n?.in);if(!$(c))throw new RangeError("Invalid time value");let d=t.match(ke).map(e=>{const t=e[0];return"p"===t||"P"===t?(0,be[t])(e,o.formatLong):e}).join("").match(xe).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Te(e)};if(le[t])return{isToken:!0,value:e};if(t.match(De))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});o.localize.preprocessor&&(d=o.localize.preprocessor(c,d));const s={firstWeekContainsDate:a,weekStartsOn:i,locale:o};return d.map(r=>{if(!r.isToken)return r.value;const a=r.value;return(!n?.useAdditionalWeekYearTokens&&function(e){return ye.test(e)}(a)||!n?.useAdditionalDayOfYearTokens&&function(e){return ve.test(e)}(a))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),we.includes(e))throw new RangeError(r)}(a,t,String(e)),(0,le[a[0]])(c,a,o.localize,s)}).join("")}(t,"MMM d, yyyy"):e}(e.dueDate)}</span>\n        <button type="button" class="btn btn-expand-todo" aria-label="View details">⋯</button>\n      </label>\n    </li>\n  `).join(""),e.querySelectorAll(".todo-item").forEach(e=>{const t=e.dataset.todoId,r=e.querySelector(".todo-checkbox"),o=e.querySelector(".btn-expand-todo");r.addEventListener("change",()=>{n.todos.find(e=>e.id===t)&&(T(n.id,t,{completed:r.checked}),Ne())}),o.addEventListener("click",e=>{e.preventDefault(),Ce(n.id,t)}),e.querySelector(".todo-title, .todo-due").addEventListener("click",()=>{Ce(n.id,t)})})):e.innerHTML='<li class="empty-state">No todos yet. Add one!</li>'}let qe=null,Ee=null;function Ce(e,t){const n=M(e),r=n?.todos.find(e=>e.id===t);if(!r)return;qe=e,Ee=t;const o=document.getElementById("todo-detail-overlay"),a=o.querySelector(".todo-detail-form");a.querySelector('[name="title"]').value=r.title,a.querySelector('[name="description"]').value=r.description||"",a.querySelector('[name="dueDate"]').value=r.dueDate?r.dueDate.slice?r.dueDate.slice(0,10):new Date(r.dueDate).toISOString().slice(0,10):"",a.querySelector('[name="priority"]').value=r.priority||"medium",a.querySelector('[name="notes"]').value=r.notes||"",o.querySelector(".checklist-list").innerHTML=(r.checklist||[]).map(e=>`\n    <li class="checklist-item" data-item-id="${e.id}">\n      <label>\n        <input type="checkbox" ${e.done?"checked":""}>\n        <span>${ze(e.text)}</span>\n      </label>\n      <button type="button" class="btn btn-remove-checklist-item" aria-label="Remove">×</button>\n    </li>\n  `).join(""),o.querySelectorAll(".checklist-item").forEach(n=>{const o=n.dataset.itemId;n.querySelector('input[type="checkbox"]').addEventListener("change",n=>{const a=r.checklist||[],i=a.find(e=>e.id===o);i&&(i.done=n.target.checked,T(e,t,{checklist:[...a]}))}),n.querySelector(".btn-remove-checklist-item").addEventListener("click",()=>{const n=(r.checklist||[]).filter(e=>e.id!==o);T(e,t,{checklist:n}),Ce(e,t)})}),o.setAttribute("aria-hidden","false"),o.classList.add("open")}function Le(){const e=document.getElementById("todo-detail-overlay");e.setAttribute("aria-hidden","true"),e.classList.remove("open"),qe=null,Ee=null}function ze(e){if(null==e)return"";const t=document.createElement("div");return t.textContent=e,t.innerHTML}(function(){const e=function(){try{const e=localStorage.getItem(S);return null==e?null:JSON.parse(e)}catch{return null}}();var t,n;e&&Array.isArray(e.projects)&&e.projects.length>0?(t=e.projects,n=e.currentProjectId??e.projects[0].id,y=Array.isArray(t)?t:[],w=n??y[0]?.id??null):function(){if(0===y.length){const e=v("Inbox");y=[e],w=e.id}}(),D()})(),Pe(),Ne(),function(){const e=document.getElementById("todo-detail-overlay"),t=e.querySelector(".todo-detail-form"),n=e.querySelector(".btn-close-detail"),r=e.querySelector(".btn-delete-todo"),o=e.querySelector(".checklist-input"),a=e.querySelector(".btn-add-checklist-item");function i(){const e=o?.value?.trim();if(!e||!qe||!Ee)return;const t=M(qe),n=t?.todos.find(e=>e.id===Ee);if(!n)return;const r=[...n.checklist||[],{id:`${Date.now()}-${Math.random().toString(36).slice(2,9)}`,text:e,done:!1}];T(qe,Ee,{checklist:r}),o.value="",Ce(qe,Ee)}e.querySelector(".checklist-list"),n.addEventListener("click",()=>{Le(),Ne()}),e.addEventListener("click",t=>{t.target===e&&(Le(),Ne())}),t.addEventListener("submit",e=>{if(e.preventDefault(),!qe||!Ee)return;const n=new FormData(t),r=n.get("dueDate")||"";T(qe,Ee,{title:n.get("title"),description:n.get("description"),dueDate:r,priority:n.get("priority"),notes:n.get("notes")}),Le(),Ne()}),r.addEventListener("click",()=>{qe&&Ee&&confirm("Delete this todo?")&&(function(e,t){const n=M(e);if(!n)return!1;const r=n.todos.findIndex(e=>e.id===t);-1!==r&&(n.todos.splice(r,1),D())}(qe,Ee),Le(),Ne(),Pe())}),a?.addEventListener("click",i),o?.addEventListener("keydown",e=>{"Enter"===e.key&&(e.preventDefault(),i())})}(),function(){const e=document.getElementById("add-todo-modal"),t=e.querySelector(".add-todo-form"),n=document.querySelector(".btn-add-todo"),r=e.querySelector(".btn-cancel");n.addEventListener("click",()=>{e.setAttribute("aria-hidden","false"),e.classList.add("open"),t.reset(),t.querySelector('[name="priority"]').value="medium"}),r.addEventListener("click",()=>{e.setAttribute("aria-hidden","true"),e.classList.remove("open")}),e.addEventListener("click",t=>{t.target===e&&(e.setAttribute("aria-hidden","true"),e.classList.remove("open"))}),t.addEventListener("submit",n=>{n.preventDefault();const r=k();if(!r)return;const o=new FormData(t);(function(e,t){const n=M(e);if(!n)return null;const r=function({title:e="",description:t="",dueDate:n="",priority:r="medium",completed:o=!1,notes:a="",checklist:i=[]}={}){return{id:b(),title:e,description:t,dueDate:n,priority:r,completed:o,notes:a,checklist:i.map(e=>"string"==typeof e?{id:b(),text:e,done:!1}:{id:e.id||b(),text:e.text||"",done:e.done||!1})}}(t);n.todos.push(r),D()})(r,{title:o.get("title"),dueDate:o.get("dueDate")||"",priority:o.get("priority")||"medium"}),e.setAttribute("aria-hidden","true"),e.classList.remove("open"),Ne(),Pe()})}(),function(){const e=document.getElementById("new-project-modal"),t=e.querySelector(".new-project-form"),n=document.querySelector(".btn-new-project"),r=e.querySelector(".btn-cancel");n.addEventListener("click",()=>{e.setAttribute("aria-hidden","false"),e.classList.add("open"),t.reset()}),r.addEventListener("click",()=>{e.setAttribute("aria-hidden","true"),e.classList.remove("open")}),e.addEventListener("click",t=>{t.target===e&&(e.setAttribute("aria-hidden","true"),e.classList.remove("open"))}),t.addEventListener("submit",n=>{n.preventDefault();const r=new FormData(t);j(function(e){const t=v(e||"New Project");return x().push(t),D(),t}(r.get("name")?.trim()||"New Project").id),e.setAttribute("aria-hidden","true"),e.classList.remove("open"),Pe(),Ne()})}()})();